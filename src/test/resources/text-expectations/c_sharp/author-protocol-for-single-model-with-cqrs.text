using Vlingo.Xoom.Actors;
using Vlingo.Xoom.Common;

namespace Io.Vlingo.Xoomapp.Model.Author;

public interface IAuthor
{

  ICompletes<AuthorState> WithName(Name name);

  static ICompletes<AuthorState> WithName(Stage stage, Name name)
  {
    var address = stage.AddressFactory.UniquePrefixedWith("g-");
    var author = stage.ActorFor<IAuthor>(Definition.Has(typeof(AuthorEntity), Definition.Parameters(address.IdString)), address);
    return author.WithName(name);
  }

  ICompletes<AuthorState> ChangeRank(List<Rank> rank);

  ICompletes<AuthorState> Hide();

  ICompletes<AuthorState> RelateAuthor(string relatedAuthor);

  ICompletes<AuthorState> RelateAuthors(ISet<string> relatedAuthors);

  ICompletes<AuthorState> UnrelateAuthor(string relatedAuthor);

  ICompletes<AuthorState> ReplaceAllRelatedAuthors(ISet<string> relatedAuthors);

}